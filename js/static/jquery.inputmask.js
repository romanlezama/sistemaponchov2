!function(e){function t(e){var t=document.createElement("input"),a="on"+e,i=a in t;return i||(t.setAttribute(a,"return;"),i="function"==typeof t[a]),t=null,i}function a(e){var t="text"==e||"tel"==e;if(!t){var a=document.createElement("input");a.setAttribute("type",e),t="text"===a.type,a=null}return t}function i(t,a,n){var r=n.aliases[t];return r?(r.alias&&i(r.alias,void 0,n),e.extend(!0,n,r),e.extend(!0,n,a),!0):!1}function n(t,a){function i(a){function i(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function n(a,i,n){var r=t.definitions[i],o=0==a.matches.length;if(n=void 0!=n?n:a.matches.length,r&&!p){r.placeholder=e.isFunction(r.placeholder)?r.placeholder.call(this,t):r.placeholder;for(var s=r.prevalidator,l=s?s.length:0,u=1;u<r.cardinality;u++){var c=l>=u?s[u-1]:[],d=c.validator,v=c.cardinality;a.matches.splice(n++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:v?v:1,optionality:a.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i})}a.matches.splice(n++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:a.isOptional,newBlockMarker:o,casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i})}else a.matches.splice(n++,0,{fn:null,cardinality:0,optionality:a.isOptional,newBlockMarker:o,casing:null,def:i,placeholder:void 0,mask:i}),p=!1}for(var r,o,s,l,u,c,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,v=new i,f=[],m=[];r=d.exec(a);)switch(o=r[0],o.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=f.pop(),f.length>0){if(l=f[f.length-1],l.matches.push(s),l.isAlternator){u=f.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;f.length>0?(l=f[f.length-1],l.matches.push(u)):v.matches.push(u)}}else v.matches.push(s);break;case t.optionalmarker.start:f.push(new i(!1,!0));break;case t.groupmarker.start:f.push(new i(!0));break;case t.quantifiermarker.start:var k=new i(!1,!1,!0);o=o.replace(/[{}]/g,"");var g=o.split(","),b=isNaN(g[0])?g[0]:parseInt(g[0]),y=1==g.length?b:isNaN(g[1])?g[1]:parseInt(g[1]);if(("*"==y||"+"==y)&&(b="*"==y?0:1),k.quantifier={min:b,max:y},f.length>0){var _=f[f.length-1].matches;if(r=_.pop(),!r.isGroup){var P=new i(!0);P.matches.push(r),r=P}_.push(r),_.push(k)}else{if(r=v.matches.pop(),!r.isGroup){var P=new i(!0);P.matches.push(r),r=P}v.matches.push(r),v.matches.push(k)}break;case t.escapeChar:p=!0;break;case t.alternatormarker:f.length>0?(l=f[f.length-1],c=l.matches.pop()):c=v.matches.pop(),c.isAlternator?f.push(c):(u=new i(!1,!1,!1,!0),u.matches.push(c),f.push(u));break;default:if(f.length>0){if(l=f[f.length-1],l.matches.length>0&&(c=l.matches[l.matches.length-1],c.isGroup&&(c.isGroup=!1,n(c,t.groupmarker.start,0),n(c,t.groupmarker.end))),n(l,o),l.isAlternator){u=f.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;f.length>0?(l=f[f.length-1],l.matches.push(u)):v.matches.push(u)}}else v.matches.length>0&&(c=v.matches[v.matches.length-1],c.isGroup&&(c.isGroup=!1,n(c,t.groupmarker.start,0),n(c,t.groupmarker.end))),n(v,o)}return v.matches.length>0&&(c=v.matches[v.matches.length-1],c.isGroup&&(c.isGroup=!1,n(c,t.groupmarker.start,0),n(c,t.groupmarker.end)),m.push(v)),m}function n(a,n){if(void 0==a||""==a)return void 0;if(1==a.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var r="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;a=t.groupmarker.start+a+t.groupmarker.end+t.quantifiermarker.start+r+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[a]&&(e.inputmask.masksCache[a]={mask:a,maskToken:i(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n}),e.extend(!0,{},e.inputmask.masksCache[a])}function r(e){if(e=e.toString(),t.numericInput){e=e.split("").reverse();for(var a=0;a<e.length;a++)e[a]==t.optionalmarker.start?e[a]=t.optionalmarker.end:e[a]==t.optionalmarker.end?e[a]=t.optionalmarker.start:e[a]==t.groupmarker.start?e[a]=t.groupmarker.end:e[a]==t.groupmarker.end&&(e[a]=t.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)){if(a)return o=[],e.each(t.mask,function(t,a){o.push(void 0==a.mask||e.isFunction(a.mask)?n(r(a),a):n(r(a.mask),a))}),o;if(t.mask.length>1){t.keepStatic=void 0==t.keepStatic?!0:t.keepStatic;var s="(";return e.each(t.mask,function(t,a){s.length>1&&(s+=")|("),s+=r(void 0==a.mask||e.isFunction(a.mask)?a:a.mask)}),s+=")",n(s,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0==t.mask.mask||e.isFunction(t.mask.mask)?n(r(t.mask),t.mask):n(r(t.mask.mask),t.mask)),o}function r(i,n,r){function o(e,t,a){t=t||0;var i,n,r,o=[],s=0;do{if(e===!0&&u().validPositions[s]){var l=u().validPositions[s];n=l.match,i=l.locator.slice(),o.push(a===!0?l.input:O(s,n))}else{if(t>s){var c=k(s,i,s-1);r=c[0]}else r=f(s,i,s-1);n=r.match,i=r.locator.slice(),o.push(O(s,n))}s++}while((void 0==nt||nt>s-1)&&null!=n.fn||null==n.fn&&""!=n.def||t>=s);return o.pop(),o}function u(){return n}function c(e){var t=u();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function d(e){var t=u(),a=-1,i=t.validPositions;void 0==e&&(e=-1);var n=a,r=a;for(var o in i){var s=parseInt(o);(-1==e||null!=i[s].match.fn)&&(e>=s&&(n=s),s>=e&&(r=s))}return a=e-n>1||e>r?n:r}function p(t,a,i){if(r.insertMode&&void 0!=u().validPositions[t]&&void 0==i){var n,o=e.extend(!0,{},u().validPositions),s=d();for(n=t;s>=n;n++)delete u().validPositions[n];u().validPositions[t]=a;var l,c=!0;for(n=t;s>=n;n++){var p=o[n];if(void 0!=p){var v=u().validPositions;l=!r.keepStatic&&v[n]&&(void 0!=v[n+1]&&k(n+1,v[n].locator.slice(),n).length>1||void 0!=v[n].alternation)?n+1:M(n),c=h(l,p.match.def)?c&&E(l,p.input,!0,!0)!==!1:null==p.match.fn}if(!c)break}if(!c)return u().validPositions=e.extend(!0,{},o),!1}else u().validPositions[t]=a;return!0}function v(e,t){var a,i=e;for(void 0!=u().validPositions[e]&&u().validPositions[e].input==r.radixPoint&&(t++,i++),a=i;t>a;a++)void 0==u().validPositions[a]||u().validPositions[a].input==r.radixPoint&&a!=d()||delete u().validPositions[a];for(a=t;a<=d();){var n=u().validPositions[a],o=u().validPositions[i];void 0!=n&&void 0==o?(h(i,n.match.def)&&E(i,n.input,!0)!==!1&&(delete u().validPositions[a],a++),i++):a++}var s=d();s>=e&&void 0!=u().validPositions[s]&&u().validPositions[s].input==r.radixPoint&&delete u().validPositions[s],c(!0)}function f(e,t,a){for(var i,n=k(e,t,a),o=d(),s=u().validPositions[o]||k(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].split(","):[],c=0;c<n.length&&(i=n[c],!(r.greedy||i.match&&(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0&&(void 0==s.alternation||void 0!=i.locator[s.alternation]&&P(i.locator[s.alternation].toString().split(","),l))));c++);return i}function m(e){return u().validPositions[e]?u().validPositions[e].match:k(e)[0].match}function h(e,t){for(var a=!1,i=k(e),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def==t){a=!0;break}return a}function k(t,a,i){function n(a,i,o,l){function p(o,l,f){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+u().mask),!0;if(s==t&&void 0==o.matches)return c.push({match:o,locator:l.reverse()}),!0;if(void 0!=o.matches){if(o.isGroup&&f!==!0){if(o=p(a.matches[v+1],l))return!0}else if(o.isOptional){var m=o;if(o=n(o,i,l,f)){var h=c[c.length-1].match,k=0==e.inArray(h,m.matches);k&&(d=!0),s=t}}else if(o.isAlternator){var g,b=o,y=[],_=c.slice(),P=l.length,E=i.length>0?i.shift():-1;if(-1==E||"string"==typeof E){var C,A=s,M=i.slice();"string"==typeof E&&(C=E.split(","));for(var x=0;x<b.matches.length;x++){c=[],o=p(b.matches[x],[x].concat(l),f)||o,g=c.slice(),s=A,c=[];for(var w=0;w<M.length;w++)i[w]=M[w];for(var S=0;S<g.length;S++)for(var O=g[S],T=0;T<y.length;T++){var G=y[T];if(O.match.mask==G.match.mask&&("string"!=typeof E||-1!=e.inArray(O.locator[P].toString(),C))){g.splice(S,1),G.locator[P]=G.locator[P]+","+O.locator[P],G.alternation=P;break}}y=y.concat(g)}"string"==typeof E&&(y=e.map(y,function(t,a){if(isFinite(a)){var i,n=t.locator[P].toString().split(",");t.locator[P]=void 0,t.alternation=void 0;for(var r=0;r<n.length;r++)i=-1!=e.inArray(n[r],C),i&&(void 0!=t.locator[P]?(t.locator[P]+=",",t.alternation=P,t.locator[P]+=n[r]):t.locator[P]=parseInt(n[r]));if(void 0!=t.locator[P])return t}})),c=_.concat(y),d=!0}else o=p(b.matches[E],[E].concat(l),f);if(o)return!0}else if(o.isQuantifier&&f!==!0){var D=o;r.greedy=r.greedy&&isFinite(D.quantifier.max);for(var j=i.length>0&&f!==!0?i.shift():0;j<(isNaN(D.quantifier.max)?j+1:D.quantifier.max)&&t>=s;j++){var F=a.matches[e.inArray(D,a.matches)-1];if(o=p(F,[j].concat(l),!0)){var h=c[c.length-1].match;h.optionalQuantifier=j>D.quantifier.min-1;var k=0==e.inArray(h,F.matches);if(k){if(j>D.quantifier.min-1){d=!0,s=t;break}return!0}return!0}}}else if(o=n(o,i,l,f))return!0}else s++}for(var v=i.length>0?i.shift():0;v<a.matches.length;v++)if(a.matches[v].isQuantifier!==!0){var f=p(a.matches[v],[v].concat(o),l);if(f&&s==t)return f;if(s>t)break}}var o=u().maskToken,s=a?i:0,l=a||[0],c=[],d=!1;if(void 0==a){for(var p,v=t-1;void 0==(p=u().validPositions[v])&&v>-1;)v--;if(void 0!=p&&v>-1)s=v,l=p.locator.slice();else{for(v=t-1;void 0==(p=u().tests[v])&&v>-1;)v--;void 0!=p&&v>-1&&(s=v,l=p[0].locator.slice())}}for(var f=l.shift();f<o.length;f++){var m=n(o[f],l,[f]);if(m&&s==t||s>t)break}return(0==c.length||d)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),u().tests[t]=e.extend(!0,[],c),u().tests[t]}function g(){return void 0==u()._buffer&&(u()._buffer=o(!1,1)),u()._buffer}function b(){return void 0==u().buffer&&(u().buffer=o(!0,d(),!0)),u().buffer}function y(e,t,a){if(a=a||b().slice(),e===!0)c(),e=0,t=a.length;else for(var i=e;t>i;i++)delete u().validPositions[i],delete u().tests[i];for(var i=e;t>i;i++)a[i]!=r.skipOptionalPartCharacter&&E(i,a[i],!0,!0)}function _(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function P(t,a){for(var i=r.greedy?a:a.slice(0,1),n=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],i)){n=!0;break}return n}function E(t,a,i,n){function o(t,a,i,n){var o=!1;return e.each(k(t),function(s,l){for(var f=l.match,m=a?1:0,h="",k=(b(),f.cardinality);k>m;k--)h+=w(t-(k-1));if(a&&(h+=a),o=null!=f.fn?f.fn.test(h,u(),t,i,r):a!=f.def&&a!=r.skipOptionalPartCharacter||""==f.def?!1:{c:f.def,pos:t},o!==!1){var g=void 0!=o.c?o.c:a;g=g==r.skipOptionalPartCharacter&&null===f.fn?f.def:g;var P=t;if(void 0!=o.remove&&v(o.remove,o.remove+1),o.refreshFromBuffer){var C=o.refreshFromBuffer;if(i=!0,y(C===!0?C:C.start,C.end),void 0==o.pos&&void 0==o.c)return o.pos=d(),!1;if(P=void 0!=o.pos?o.pos:t,P!=t)return o=e.extend(o,E(P,g,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=t&&(P=o.pos,y(t,P),P!=t))return o=e.extend(o,E(P,g,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&c(!0),p(P,e.extend({},l,{input:_(g,f)}),n)||(o=!1),!1)}}),o}function s(t,a,i,n){var o,s,l=e.extend(!0,{},u().validPositions);for(o=d();o>=0;o--)if(u().validPositions[o]&&void 0!=u().validPositions[o].alternation){s=u().validPositions[o].alternation;break}if(void 0!=s)for(var p in u().validPositions)if(parseInt(p)>parseInt(o)&&void 0===u().validPositions[p].alternation){for(var v=u().validPositions[p],f=v.locator[s],m=u().validPositions[o].locator[s].split(","),h=0;h<m.length;h++)if(f<m[h]){for(var k,g,y=p-1;y>=0;y--)if(k=u().validPositions[y],void 0!=k){g=k.locator[s],k.locator[s]=m[h];break}if(f!=k.locator[s]){for(var _=b().slice(),P=p;P<d()+1;P++)delete u().validPositions[P],delete u().tests[P];c(!0),r.keepStatic=!r.keepStatic;for(var P=p;P<_.length;P++)_[P]!=r.skipOptionalPartCharacter&&E(d()+1,_[P],!1,!0);k.locator[s]=g;var C=E(t,a,i,n);if(r.keepStatic=!r.keepStatic,C)return C;c(),u().validPositions=e.extend(!0,{},l)}}break}return!1}function l(t,a){for(var i=u().validPositions[a],n=i.locator,r=n.length,o=t;a>o;o++)if(!C(o)){var s=k(o),l=s[0],c=-1;e.each(s,function(e,t){for(var a=0;r>a;a++)t.locator[a]&&P(t.locator[a].toString().split(","),n[a].toString().split(","))&&a>c&&(c=a,l=t)}),p(o,e.extend({},l,{input:l.match.def}),!0)}}i=i===!0;for(var f=b(),m=t-1;m>-1&&(!u().validPositions[m]||null!=u().validPositions[m].match.fn);m--)void 0==u().validPositions[m]&&(!C(m)||f[m]!=O(m))&&k(m).length>1&&o(m,f[m],!0);var h=t,g=!1;if(n&&h>=A()&&c(!0),h<A()&&(g=o(h,a,i,n),!i&&g===!1)){var x=u().validPositions[h];if(!x||null!=x.match.fn||x.match.def!=a&&a!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==u().validPositions[M(h)])&&!C(h))for(var S=h+1,T=M(h);T>=S;S++)if(g=o(S,a,i,n),g!==!1){l(h,S),h=S;break}}else g={caret:M(h)}}return g===!1&&r.keepStatic&&I(f)&&(g=s(t,a,i,n)),g===!0&&(g={pos:h}),g}function C(e){var t=m(e);return null!=t.fn?t.fn:!1}function A(){var e;if(nt=it.prop("maxLength"),-1==nt&&(nt=void 0),0==r.greedy){var t,a=d(),i=u().validPositions[a],n=void 0!=i?i.locator.slice():void 0;for(t=a+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)i=f(t,n,t-1),n=i.locator.slice();e=t}else e=b().length;return void 0==nt||nt>e?e:nt}function M(e){var t=A();if(e>=t)return t;for(var a=e;++a<t&&!C(a)&&(r.nojumps!==!0||r.nojumpsThreshold>a););return a}function x(e){var t=e;if(0>=t)return 0;for(;--t>0&&!C(t););return t}function w(e){return void 0==u().validPositions[e]?O(e):u().validPositions[e].input}function S(e,t,a){e._valueSet(t.join("")),void 0!=a&&F(e,a)}function O(e,t){return t=t||m(e),void 0!=t.placeholder?t.placeholder:null==t.fn?t.def:r.placeholder.charAt(e%r.placeholder.length)}function T(t,a,i,n){var o=void 0!=n?n.slice():t._valueGet().split("");c(),a&&t._valueSet("");var s=g().slice(0,M(-1)).join(""),l=o.join("").match(new RegExp(G(s),"g"));if(l&&l.length>1&&o.splice(0,s.length),e.each(o,function(a,n){var r=e.Event("keypress");r.which=n.charCodeAt(0);var o=d(),s=u().validPositions[o],l=f(o+1,s?s.locator.slice():void 0,o);if(-1==e.inArray(n,g().slice(o+1,u().p))||i){var c=i?a:null==l.match.fn&&o+1<u().p?o+1:u().p;W.call(t,r,!0,!1,i,c),i=i||a>0&&a>u().p}else W.call(t,r,!0,!1,!0,o+1)}),a){var p=r.onKeyPress.call(this,void 0,b(),0,r);U(t,p),S(t,b(),e(t).is(":focus")?M(d(0)):void 0)}}function G(t){return e.inputmask.escapeRegex.call(this,t)}function D(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var a=[],i=u().validPositions;for(var n in i)i[n].match&&null!=i[n].match.fn&&a.push(i[n].input);var o=(rt?a.reverse():a).join(""),s=(rt?b().slice().reverse():b()).join("");return e.isFunction(r.onUnMask)&&(o=r.onUnMask.call(t,s,o,r)||o),o}return t[0]._valueGet()}function j(e){if(rt&&"number"==typeof e&&(!r.greedy||""!=r.placeholder)){var t=b().length;e=t-e}return e}function F(t,a,i){var n,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a){var s=e(o).data("_inputmask");return!e(o).is(":visible")&&s&&void 0!=s.caret?(a=s.caret.begin,i=s.caret.end):o.setSelectionRange?(a=o.selectionStart,i=o.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),a=0-n.duplicate().moveStart("character",-1e5),i=a+n.text.length),a=j(a),i=j(i),{begin:a,end:i}}a=j(a),i=j(i),i="number"==typeof i?i:a;var s=e(o).data("_inputmask")||{};if(s.caret={begin:a,end:i},e(o).data("_inputmask",s),e(o).is(":visible")){var l=e(o).css("font-size").replace("px","")*i;o.scrollLeft=l>o.scrollWidth?l:0,0==r.insertMode&&a==i&&i++,o.setSelectionRange?(o.selectionStart=a,o.selectionEnd=i):o.createTextRange&&(n=o.createTextRange(),n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",a),n.select())}}function K(t){var a,i,n=b(),r=n.length,o=d(),s={},l=u().validPositions[o],c=void 0!=l?l.locator.slice():void 0;for(a=o+1;a<n.length;a++)i=f(a,c,a-1),c=i.locator.slice(),s[a]=e.extend(!0,{},i);var p=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(a=r-1;a>o&&(i=s[a].match,(i.optionality||i.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=s[a].locator[l.alternation]&&-1!=e.inArray(s[a].locator[l.alternation].toString(),p))&&n[a]==O(a,i));a--)r--;return t?{l:r,def:s[r]?s[r].match:void 0}:r}function B(e){for(var t=K(),a=e.length-1;a>t&&!C(a);a--);e.splice(t,a+1-t)}function I(t){if(e.isFunction(r.isComplete))return r.isComplete.call(it,t,r);if("*"==r.repeat)return void 0;var a=!1,i=K(!0),n=x(i.l),o=d();if(o==n&&(void 0==i.def||i.def.newBlockMarker||i.def.optionalQuantifier)){a=!0;for(var s=0;n>=s;s++){var l=C(s);if(l&&(void 0==t[s]||t[s]==O(s))||!l&&t[s]!=O(s)){a=!1;break}}}return a}function R(e,t){return rt?e-t>1||e-t==1&&r.insertMode:t-e>1||t-e==1&&r.insertMode}function L(t){var a=e._data(t).events,i=!1;e.each(a,function(t,a){e.each(a,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var a=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled){switch(e.type){case"input":if(st===!0||i)return st=!1,e.preventDefault();break;case"keydown":ot=!1;break;case"keypress":if(ot===!0)return e.preventDefault();ot=!0;break;case"compositionstart":i=!0;break;case"compositionupdate":break;case"compositionend":i=!1,st=!0}return a.apply(this,arguments)}e.preventDefault()}}})})}function N(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var n=a(t),r=i.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",n!=s?n:""}return a(t)},set:function(t,a){var n,r=e(t),o=r.data("_inputmask");return o?(n=i(t,e.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(ft,a,o.opts)||a:a),r.triggerHandler("setvalue.inputmask")):n=i(t,a),n},inputmaskpatch:!0}}}function i(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):s.call(this)!=g().join("")?s.call(this):"":s.call(this)}function n(t){var a=e(this).data("_inputmask");a?(l.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(ft,t,a.opts)||t:t),e(this).triggerHandler("setvalue.inputmask")):l.call(this,t)}function o(t){e(t).bind("mouseenter.inputmask",function(){var t=e(this),a=this,i=a._valueGet();""!=i&&i!=b().join("")&&(this._valueSet(e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(ft,i,r)||i:i),t.trigger("setvalue"))});var a=e._data(t).events,i=a.mouseover;if(i){for(var n=i[i.length-1],o=i.length-1;o>0;o--)i[o]=i[o-1];i[0]=n}}var s,l;if(!t._valueGet){if(Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor(t,"value")}document.__lookupGetter__&&t.__lookupGetter__("value")?(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n)):(s=function(){return t.value},l=function(e){t.value=e},a(t.type),o(t)),t._valueGet=function(){return rt?s.call(this).split("").reverse().join(""):s.call(this)},t._valueSet=function(e){l.call(this,rt?e.split("").reverse().join(""):e)}}}function H(t,a,i){function n(){if(r.keepStatic){c(!0);var a,i=[];for(a=d();a>=0;a--)if(u().validPositions[a]){if(void 0!=u().validPositions[a].alternation)break;i.push(u().validPositions[a].input),delete u().validPositions[a]}if(a>0)for(;i.length>0;){u().p=M(d());var n=e.Event("keypress");n.which=i.pop().charCodeAt(0),W.call(t,n,!0,!1,!1,u().p)}}}if((r.numericInput||rt)&&(a==e.inputmask.keyCode.BACKSPACE?a=e.inputmask.keyCode.DELETE:a==e.inputmask.keyCode.DELETE&&(a=e.inputmask.keyCode.BACKSPACE),rt)){var o=i.end;i.end=i.begin,i.begin=o}a==e.inputmask.keyCode.BACKSPACE&&i.end-i.begin<=1?i.begin=x(i.begin):a==e.inputmask.keyCode.DELETE&&i.begin==i.end&&i.end++,v(i.begin,i.end),n();var s=d(i.begin);s<i.begin?(-1==s&&c(),u().p=M(s)):u().p=i.begin}function U(e,t,a){if(t&&t.refreshFromBuffer){var i=t.refreshFromBuffer;y(i===!0?i:i.start,i.end,t.buffer),c(!0),void 0!=a&&(S(e,b()),F(e,t.caret||a.begin,t.caret||a.end))}}function q(a){var i=this,n=e(i),o=a.keyCode,l=F(i);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||a.ctrlKey&&88==o&&!t("cut")?(a.preventDefault(),88==o&&(X=b().join("")),H(i,o,l),S(i,b(),u().p),i._valueGet()==g().join("")&&n.trigger("cleared"),r.showTooltip&&n.prop("title",u().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=M(d());r.insertMode||e!=A()||a.shiftKey||e--,F(i,a.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!a.shiftKey||o==e.inputmask.keyCode.PAGE_UP?F(i,0,a.shiftKey?l.begin:0):r.undoOnEscape&&o==e.inputmask.keyCode.ESCAPE||90==o&&a.ctrlKey?(T(i,!0,!1,X.split("")),n.click()):o!=e.inputmask.keyCode.INSERT||a.shiftKey||a.ctrlKey?0!=r.insertMode||a.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=F(i);F(i,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=F(i);F(i,rt?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,F(i,r.insertMode||l.begin!=A()?l.begin:l.begin-1));var c=F(i),p=r.onKeyDown.call(this,a,b(),c.begin,r);U(i,p,c),lt=-1!=e.inArray(o,r.ignorables)}function W(t,a,i,n,o){var s=this,l=e(s),d=t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||lt))return!0;if(d){46==d&&0==t.shiftKey&&","==r.radixPoint&&(d=44);var v,f=a?{begin:o,end:o}:F(s),m=String.fromCharCode(d),h=R(f.begin,f.end);h&&(u().undoPositions=e.extend(!0,{},u().validPositions),H(s,e.inputmask.keyCode.DELETE,f),r.insertMode||(r.insertMode=!r.insertMode,p(f.begin,n),r.insertMode=!r.insertMode),h=!r.multi),u().writeOutBuffer=!0;var g=rt&&!h?f.end:f.begin,y=E(g,m,n);if(y!==!1){if(y!==!0&&(g=void 0!=y.pos?y.pos:g,m=void 0!=y.c?y.c:m),c(!0),void 0!=y.caret)v=y.caret;else{var _=u().validPositions;v=!r.keepStatic&&(void 0!=_[g+1]&&k(g+1,_[g].locator.slice(),g).length>1||void 0!=_[g].alternation)?g+1:M(g)}u().p=v}if(i!==!1){var P=this;if(setTimeout(function(){r.onKeyValidation.call(P,y,r)},0),u().writeOutBuffer&&y!==!1){var C=b();S(s,C,a?void 0:r.numericInput?x(v):v),a!==!0&&setTimeout(function(){I(C)===!0&&l.trigger("complete"),st=!0,l.trigger("input")},0)}else h&&(u().buffer=void 0,u().validPositions=u().undoPositions)}else h&&(u().buffer=void 0,u().validPositions=u().undoPositions);if(r.showTooltip&&l.prop("title",u().mask),a){var A=r.onKeyPress.call(this,t,b(),v,r);A&&A.refreshFromBuffer&&(U(s,A),A.caret&&(u().p=A.caret))}else{var w=F(s);U(s,r.onKeyPress.call(this,t,b(),w.begin,r),w)}t.preventDefault()}}function Q(t){var a=(e(this),this),i=(t.keyCode,b()),n=F(a),o=r.onKeyUp.call(this,t,i,n.begin,r);U(a,o,n)}function V(t){var a=this,i=e(a),n=a._valueGet(),o=F(a);if("propertychange"==t.type&&a._valueGet().length<=A())return!0;"paste"==t.type&&(window.clipboardData&&window.clipboardData.getData?n=n.substr(0,o.begin)+window.clipboardData.getData("Text")+n.substr(o.end,n.length):t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(n=n.substr(0,o.begin)+t.originalEvent.clipboardData.getData("text/plain")+n.substr(o.end,n.length)));var s=e.isFunction(r.onBeforePaste)?r.onBeforePaste.call(a,n,r)||n:n;return T(a,!0,!1,rt?s.split("").reverse():s.split("")),i.click(),I(b())===!0&&i.trigger("complete"),!1}function $(t){var a=this;T(a,!0,!1),I(b())===!0&&e(a).trigger("complete"),t.preventDefault()}function z(t){var a=this;X=b().join(""),0!=t.originalEvent.data.indexOf(at)&&(et=e.extend(!0,{},u().validPositions),tt=F(a))}function J(t){var a=this,i=tt||F(a);u().validPositions=e.extend(!0,{},et);var n=t.originalEvent.data;F(a,i.begin,i.end);for(var o=0;o<n.length;o++){var s=e.Event("keypress");s.which=n.charCodeAt(o),ot=!1,lt=!1,W.call(a,s)}setTimeout(function(){var e=u().p;S(a,b(),r.numericInput?x(e):e)},10)}function Z(e){at=e.originalEvent.data}function Y(t){if(it=e(t),it.is(":input")&&a(it.attr("type"))){if(it.data("_inputmask",{maskset:n,opts:r,isRTL:!1}),r.showTooltip&&it.prop("title",u().mask),("rtl"==t.dir||r.rightAlign)&&it.css("text-align","right"),"rtl"==t.dir||r.numericInput){t.dir="ltr",it.removeAttr("dir");var i=it.data("_inputmask");i.isRTL=!0,it.data("_inputmask",i),rt=!0}it.unbind(".inputmask"),it.closest("form").bind("submit",function(){X!=b().join("")&&it.change(),it[0]._valueGet&&it[0]._valueGet()==g().join("")&&it[0]._valueSet(""),r.removeMaskOnSubmit&&it.inputmask("remove")}).bind("reset",function(){setTimeout(function(){it.trigger("setvalue")},0)}),it.bind("mouseenter.inputmask",function(){var t=e(this),a=this;!t.is(":focus")&&r.showMaskOnHover&&a._valueGet()!=b().join("")&&S(a,b())}).bind("blur.inputmask",function(){var t=e(this),a=this;if(t.data("_inputmask")){var i=a._valueGet(),n=b().slice();if(ut=!0,X!=n.join("")&&(t.change(),X=n.join("")),""!=i){if(r.clearMaskOnLostFocus&&(i==g().join("")?n=[]:B(n)),I(n)===!1&&(t.trigger("incomplete"),r.clearIncomplete&&(c(),n=r.clearMaskOnLostFocus?[]:g().slice())),e.isFunction(r.postProcessOnBlur)){var o=r.postProcessOnBlur.call(a,n,r);o&&(U(a,o),n=b())}S(a,n)}}}).bind("focus.inputmask",function(){var t=(e(this),this),a=t._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""==a)&&t._valueGet()!=b().join("")&&S(t,b(),M(d())),X=b().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),a=this;if(r.clearMaskOnLostFocus){var i=b().slice(),n=a._valueGet();t.is(":focus")||n==t.attr("placeholder")||""==n||(n==g().join("")?i=[]:B(i),S(a,i))}}).bind("click.inputmask",function(){var t=e(this),a=this;if(t.is(":focus")){var i=F(a);if(i.begin==i.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=e.inArray(r.radixPoint,b())&&(ut||b().join("")==g().join("")))F(a,e.inArray(r.radixPoint,b())),ut=!1;else{var n=rt?j(i.begin):i.begin,o=M(d(n));o>n?F(a,C(n)?n:M(n)):F(a,o)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){F(e,0,M(d()))},0)}).bind(l+".inputmask dragdrop.inputmask drop.inputmask",V).bind("setvalue.inputmask",function(){var e=this;T(e,!0,!1),X=b().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&e._valueGet()==g().join("")&&e._valueSet("")}).bind("cut.inputmask",function(t){st=!0;var a=this,i=e(a),n=F(a);H(a,e.inputmask.keyCode.DELETE,n);var o=r.onKeyPress.call(this,t,b(),u().p,r);U(a,o,{begin:u().p,end:u().p}),a._valueGet()==g().join("")&&i.trigger("cleared"),r.showTooltip&&i.prop("title",u().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),it.bind("keydown.inputmask",q).bind("keypress.inputmask",W).bind("keyup.inputmask",Q).bind("compositionstart.inputmask",z).bind("compositionupdate.inputmask",J).bind("compositionend.inputmask",Z),"paste"===l&&it.bind("input.inputmask",$),N(t);var o=e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(t,t._valueGet(),r)||t._valueGet():t._valueGet();T(t,!0,!1,o.split(""));var s=b().slice();X=s.join("");var p;try{p=document.activeElement}catch(v){}I(s)===!1&&r.clearIncomplete&&c(),r.clearMaskOnLostFocus&&(s.join("")==g().join("")?s=[]:B(s)),S(t,s),p===t&&F(t,M(d())),L(t)}}var X,et,tt,at,it,nt,rt=!1,ot=!1,st=!1,lt=!1,ut=!0;if(void 0!=i)switch(i.action){case"isComplete":return it=e(i.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,I(i.buffer);case"unmaskedvalue":return it=i.$input,n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,rt=i.$input.data("_inputmask").isRTL,D(i.$input);case"mask":X=b().join(""),Y(i.el);break;case"format":it=e({}),it.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(rt=!0);var ct=(e.isFunction(r.onBeforeMask)?r.onBeforeMask.call(it,i.value,r)||i.value:i.value).split("");return T(it,!1,!1,rt?ct.reverse():ct),r.onKeyPress.call(this,void 0,b(),0,r),i.metadata?{value:rt?b().slice().reverse().join(""):b().join(""),metadata:it.inputmask("getmetadata")}:rt?b().slice().reverse().join(""):b().join("");case"isValid":it=e({}),it.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(rt=!0);var ct=i.value.split("");T(it,!1,!0,rt?ct.reverse():ct);for(var dt=b(),pt=K(),vt=dt.length-1;vt>pt&&!C(vt);vt--);return dt.splice(pt,vt+1-pt),I(dt)&&i.value==dt.join("");case"getemptymask":return it=e(i.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,g();case"remove":var ft=i.el;it=e(ft),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,ft._valueSet(D(it)),it.unbind(".inputmask"),it.removeData("_inputmask");var mt;Object.getOwnPropertyDescriptor&&(mt=Object.getOwnPropertyDescriptor(ft,"value")),mt&&mt.get?ft._valueGet&&Object.defineProperty(ft,"value",{get:ft._valueGet,set:ft._valueSet}):document.__lookupGetter__&&ft.__lookupGetter__("value")&&ft._valueGet&&(ft.__defineGetter__("value",ft._valueGet),ft.__defineSetter__("value",ft._valueSet));try{delete ft._valueGet,delete ft._valueSet}catch(ht){ft._valueGet=void 0,ft._valueSet=void 0}break;case"getmetadata":if(it=e(i.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,e.isArray(n.metadata)){for(var kt,gt=d(),bt=gt;bt>=0;bt--)if(u().validPositions[bt]&&void 0!=u().validPositions[bt].alternation){kt=u().validPositions[bt].alternation;break}return void 0!=kt?n.metadata[u().validPositions[gt].locator[kt]]:n.metadata[0]}return n.metadata}}if(void 0===e.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i")),null!==o.match(new RegExp("android.*firefox.*","i")),/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),t("paste")?"paste":t("input")?"input":"propertychange");e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,postProcessOnBlur:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a,o){var s=e.extend(!0,{},e.inputmask.defaults,a);return i(s.alias,a,s),r({action:"format",value:t,metadata:o},n(s),s)},isValid:function(t,a){var o=e.extend(!0,{},e.inputmask.defaults,a);return i(o.alias,a,o),r({action:"isValid",value:t},n(o),o)}},e.fn.inputmask=function(t,a,o,s,l){function u(t,a,n){var r=e(t);r.data("inputmask-alias")&&i(r.data("inputmask-alias"),{},a);for(var o in a){var s=r.data("inputmask-"+o.toLowerCase());void 0!=s&&("mask"==o&&0==s.indexOf("[")?(a[o]=s.replace(/[\s[\]]/g,"").split("','"),a[o][0]=a[o][0].replace("'",""),a[o][a[o].length-1]=a[o][a[o].length-1].replace("'","")):a[o]="boolean"==typeof s?s:s.toString(),n&&(n[o]=a[o]))
}return a}o=o||r,s=s||"_inputmask";var c,d=e.extend(!0,{},e.inputmask.defaults,a);if("string"==typeof t)switch(t){case"mask":return i(d.alias,a,d),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});case"unmaskedvalue":var p=e(this);return p.data(s)?o({action:"unmaskedvalue",$input:p}):p.val();case"remove":return this.each(function(){var t=e(this);t.data(s)&&o({action:"remove",el:this})});case"getemptymask":return this.data(s)?o({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case"isComplete":return this.data(s)?o({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(s)?o({action:"getmetadata",el:this}):void 0;case"_detectScope":return i(d.alias,a,d),void 0==l||i(l,a,d)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=l),e.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),e.isArray(d.mask);default:return i(d.alias,a,d),i(t,a,d)||(d.mask=t),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))})}else{if("object"==typeof t)return d=e.extend(!0,{},e.inputmask.defaults,t),i(d.alias,t,d),c=n(d,o!==r),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,a),d=e.extend(!0,{},e.inputmask.defaults,n),d=u(this,d),i(d.alias,n,d),d.alias=void 0,e(this).inputmask("mask",d,o)}catch(r){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){d=e.extend(!0,{},e.inputmask.defaults,{});var s={};d=u(this,d,s),i(d.alias,s,d),d.alias=void 0,e(this).inputmask("mask",d,o)}})}}}return e.fn.inputmask}(jQuery);